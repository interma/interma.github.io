<!-- One-click Google Translate to English -->
<button id="translate-btn">ğŸŒ English</button>

<!-- hidden element for Google Translate -->
<div id="google_translate_element" style="display:none;"></div>

<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      {
        pageLanguage: 'zh-CN',
        includedLanguages: 'en',
        autoDisplay: false
      },
      'google_translate_element'
    );

    // å¼ºåˆ¶åˆ‡æ¢åˆ°è‹±æ–‡
    setTimeout(function() {
      var select = document.querySelector(".goog-te-combo");
      if (select) {
        select.value = "en";
        select.dispatchEvent(new Event("change"));
      }
    }, 500);
  }

  document.getElementById("translate-btn").addEventListener("click", function() {
    if (window.googleTranslateLoaded) {
      // å·²åŠ è½½è¿‡ â†’ å†ç‚¹æŒ‰é’®å¼ºåˆ¶åˆ‡åˆ°è‹±æ–‡
      var select = document.querySelector(".goog-te-combo");
      if (select) {
        select.value = "en";
        select.dispatchEvent(new Event("change"));
      }
      return;
    }
    window.googleTranslateLoaded = true;

    var s = document.createElement("script");
    s.type = "text/javascript";
    s.src = "//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";
    document.body.appendChild(s);
  });
</script>

<style>
#translate-btn {
  padding: 6px 12px;
  font-size: 14px;
  border: 1px solid #ccc;
  border-radius: 6px;
  cursor: pointer;
  background: #fff;
}
#translate-btn:hover {
  background: #f0f0f0;
}
</style>
