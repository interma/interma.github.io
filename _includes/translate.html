<!-- _includes/translate.html -->
<button id="translate-btn">ğŸŒ Translate it</button>

<div id="microsoft_translate_container" style="display:none;"></div>

<script>
document.getElementById("translate-btn").addEventListener("click", function() {
  // é˜²æ­¢é‡å¤åŠ è½½
  if (window.microsoftTranslateLoaded) {
    Microsoft.Translator.Widget.Toggle(); 
    return;
  }
  window.microsoftTranslateLoaded = true;

  var userLang = navigator.language || navigator.userLanguage || "en";

  var s = document.createElement("script");
  s.type = "text/javascript";
  s.charset = "UTF-8";
  s.src = "//www.microsoftTranslator.com/Ajax/V3/WidgetV3.js";
  s.onload = function() {
    Microsoft.Translator.Widget.Translate(
      "zh-CHS", // æºè¯­è¨€ï¼šç®€ä½“ä¸­æ–‡
      userLang, // ç›®æ ‡è¯­è¨€ï¼šç”¨æˆ·æµè§ˆå™¨è¯­è¨€
      {
        layout: Microsoft.Translator.Widget.Layout.Simple,
        oncomplete: function() {
          console.log("Translation complete");
        }
      }
    );
  };
  document.body.appendChild(s);
});
</script>
